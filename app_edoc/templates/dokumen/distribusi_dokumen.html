{% extends 'layout.html' %}

{% block title %}Dokumen Menu{% endblock %}

{% block content %}
<div class="container">
    <div class="" style="margin: 0px 30px 0px 30px;">
        <div class="table-responsive">
          <div class="table-wrapper">
            <div class="table-title">
              <div class="row">
                <div class="col-sm-6">
                  <h5> <b>Distribusi Dokumen</b></h5>
                </div>
                <div class="col-sm-6">
                    <a class="btn btn-success" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false"><i class="material-icons">&#xE147;</i> <span>Create</span></a>
                    <div class="dropdown-menu">
                        <a href="#addModalFile" class="btn btn-success" data-toggle="modal"><i class="material-icons">&#xE147;</i> <span>Create New File</span></a>
                        <a href="#addModalFolder" class="btn btn-success" data-toggle="modal"><i class="material-icons">&#xE147;</i> <span>Create New Folder</span></a>
                    </div>
                </div>
              </div>
            </div>
          </div>
        </div>
    </div>
    <div name="filebrowser">
      <h5>{{ current_working_directory }}</h5><br>
      <ul>
        {% for item in file_list %}
        <li>{{item}}</li>
        {% endfor %}
      </ul>
    </div>
</div>

 <!-- Add Folder Modal HTML -->
 <div id="addModalFolder" class="modal fade">
    <div class="modal-dialog" style="max-width: 500px;">
      <div class="modal-content">
        <form method="POST" action="{{url_for('dokumen.create_folder')}}" name="elongasi">
          <div class="modal-header">						
            <h4 class="modal-title">Create Folder</h4>
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
          </div>
          <div class="modal-body">
            <div class="form-group">
              <div class="row">
                <div class="col-12">
                  <div class="form-group">
                    <label>Nama Folder</label>
                    <input type="text" name="namafolder" class="form-control" required>
                  </div>
                </div>
                <div class="col-12">
                    <div class="form-group">
                      <label>Permission</label>
                      <input type="text" name="permission" class="form-control" placeholder="kosongkan untuk all user">
                    </div>
                  </div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
            <input type="submit" class="btn btn-info" value="Save">
          </div>
        </form>
      </div>
    </div>
  </div>

   <!-- Add Folder Modal HTML -->
 <div id="addModalFile" class="modal fade">
    <div class="modal-dialog" style="max-width: 500px;">
      <div class="modal-content">
        <form method="POST" action="{{url_for('dokumen.create_file')}}" enctype="multipart/form-data">
          <div class="modal-header">						
            <h4 class="modal-title">Create File</h4>
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
          </div>
          <div class="modal-body">
            <div class="form-group">
              <div class="row">
                <div class="col-12">
                    <div class="form-group">
                      <label>Upload File</label>
                      <input type="file" name="file" class="form-control" required>
                    </div>
                  </div>
                <div class="col-12">
                  <div class="form-group">
                    <label>Revision</label>
                    <input type="text" name="revision" class="form-control" required>
                  </div>
                </div>
                <div class="col-12">
                    <div class="form-group">
                      <label>Permission</label>
                      <input type="text" name="permission" class="form-control" placeholder="kosongkan untuk all user">
                    </div>
                  </div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
            <input type="submit" class="btn btn-info" value="Save">
          </div>
        </form>
      </div>
    </div>
  </div>
{% endblock %}